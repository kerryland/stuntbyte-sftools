<!DOCTYPE HTML>
<html lang="en">

  <meta name="robots" content="index, follow" />

<script type="text/javascript">
  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-28301451-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();
</script>

  <head>
    <meta charset="utf-8">
    <meta name="keywords" content="sfdc, salesforce, apex code, triggers, jdbc, ide, deployment" />
    <title>Stuntbyte - JDBC SQL DDL Syntax</title>
    <link rel="stylesheet" type="text/css" href="/style.css" media="screen">
    <meta name="generator" content="nanoc 3.3.7">
  </head>
  <body>
    <div id="main">
    <h1>JDBC SQL DDL Syntax</h1>
      <p>Here are the SQL DDL commands we currently support:</p>
<h2>CREATE TABLE</h2>
<p>We provide a way to create a Salesforce "custom object" via the JDBC driver:</p>

<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
</pre></td>
  <td class="code"><pre><span class="class">CREATE</span> <span class="type">TABLE</span> &lt;tableName&gt; ( &lt;columnName&gt; &lt;dataType&gt; [<span class="predefined-constant">null</span> | <span class="keyword">not</span> <span class="predefined-constant">null</span> ]
[ WITH &lt;withClause&gt; ] ,... );</pre></td>
</tr></table></code></pre>

<p>For example:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
<a href="#n6" name="n6">6</a>
<a href="#n7" name="n7">7</a>
<a href="#n8" name="n8">8</a>
<a href="#n9" name="n9">9</a>
</pre></td>
  <td class="code"><pre><span class="class">create</span> <span class="type">table</span> superhero__c (
name string(<span class="integer">80</span>),
birthdate__c <span class="predefined-type">date</span>,
cape_colour__c picklist(<span class="string"><span class="delimiter">'</span><span class="content">red</span><span class="delimiter">'</span></span>, <span class="string"><span class="delimiter">'</span><span class="content">blue</span><span class="delimiter">'</span></span> <span class="directive">default</span>, <span class="string"><span class="delimiter">'</span><span class="content">green</span><span class="delimiter">'</span></span>) sorted,
identity__c masterrecord <span class="keyword">references</span>(secretidentity__c) with (relationshipName <span class="string"><span class="delimiter">'</span><span class="content">secretId</span><span class="delimiter">'</span></span>),
group__c reference <span class="keyword">references</span>(superherogroup__c) with (relationshipName <span class="string"><span class="delimiter">'</span><span class="content">secretGroup</span><span class="delimiter">'</span></span>),
my_formula__c string(<span class="integer">80</span>) with (formula <span class="string"><span class="delimiter">"</span><span class="content">name &amp; ' ' &amp; identity__r.Name</span><span class="delimiter">"</span></span>),
secret__c encryptedstring(<span class="integer">50</span>) with (maskChar asterisk, maskType <span class="keyword">all</span>),
commitment__c percent(<span class="integer">3</span>,<span class="integer">0</span>) with (inlineHelpText <span class="string"><span class="delimiter">"</span><span class="content">Here is some help!</span><span class="delimiter">"</span></span>));</pre></td>
</tr></table></code></pre>
<p></p>
<h3>Data Types</h3>
<p>We support the following datatypes via the CREATE and ALTER table commands.</p>
<h4>Numeric datatypes</h4>
<p>These data types support an optional "precision, scale" clause:</p>

<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
<a href="#n4" name="n4">4</a>
<a href="#n5" name="n5">5</a>
</pre></td>
  <td class="code"><pre>Currency[(&lt;precision&gt;, [&lt;scale&gt;])]
Percent[(&lt;precision&gt;, [&lt;scale&gt;])]
<span class="predefined-type">Double</span>[(&lt;precision&gt;, [&lt;scale&gt;])]
<span class="predefined-type">Int</span>[(&lt;precision&gt;)]
<span class="predefined-type">Decimal</span>[(&lt;precision&gt;, [&lt;scale&gt;])]</pre></td>
</tr></table></code></pre>

<p></p>
<h4>String datatypes</h4>
<p>These data types support an optional "length" clause:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
</pre></td>
  <td class="code"><pre>String[(&lt;length&gt;)]
TextArea[(&lt;length&gt;)]
LongTextArea[(&lt;length&gt;)] with (visibleLines <span class="integer">3</span>)</pre></td>
</tr></table></code></pre>

<p></p>
<h4>Picklist and Multipicklist datatype</h4>
<p>[Multi]Picklist supports a list of valid values, a default indicator, and an optional "sorted" clause.  Note that currently there is no support for "controlling field" in Picklist.</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
</pre></td>
  <td class="code"><pre>PickList(&lt;value&gt; [<span class="directive">default</span>] ... [sorted]
MultiPickList(&lt;value&gt; [<span class="directive">default</span>] ... [sorted]</pre></td>
</tr></table></code></pre>

<p></p>
<h4>Foreign key relationships</h4>
<p>Foreign keys are defined via the "Reference" and "MasterRecord" data types:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
<a href="#n3" name="n3">3</a>
</pre></td>
  <td class="code"><pre>Reference <span class="keyword">references</span> (&lt;referencedTable&gt;) with (relationshipName &lt;refName&gt; [ , relationshipLabel <span class="string"><span class="delimiter">'</span><span class="content">&lt;labelName&gt;</span><span class="delimiter">'</span></span>])

MasterRecord <span class="keyword">references</span> (&lt;referencedTable&gt;) with (relationshipName &lt;refName&gt; [ , relationshipLabel <span class="string"><span class="delimiter">'</span><span class="content">&lt;labelName&gt;</span><span class="delimiter">'</span></span>])</pre></td>
</tr></table></code></pre>

<p></p>
<h4>AutoNumber</h4>
<p>The AutoNumber datatype, used with the built-in "Name" field, defaults to a format of {0000000000}, but this can be changed via the 'with' clause, eg:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre>AutoNumber with (displayFormat <span class="string"><span class="delimiter">"</span><span class="content">{INV0000}</span><span class="delimiter">"</span></span>)</pre></td>
</tr></table></code></pre>

<p></p>
<h4>Other datatypes</h4>
<ul>
<li>EncryptedString -- for example:  encryptedstring(50) with (maskChar asterisk, maskType all),</li>
<li>Email</li>
<li>Phone</li>
<li>Url</li>
<li>base64 (synonym for LongTextArea)</li>
<li>Boolean</li>
<li>Byte</li>
<li>Date</li>
<li>DateTime</li>
<li>Summary</li>
</ul><h3>Use of 'with clause'</h3>
<p>The CREATE command maps standard SQL values such as the the column name, data type, and field size to an internal Salesforce structure. The 'with' clause is really just a back-door to support unusual features associated with a column definition. The values listed in the 'with' clause are passed through to Salesforce unmodified, and values are case sensitive.</p>
<p>The "with" values are documented by salesforce <a href="http://www.salesforce.com/us/developer/docs/api_meta/Content/customfield.htm">here</a>. If you wanted, for example, to define "inline help text" for a field you would use:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre>...with (inlineHelpText <span class="string"><span class="delimiter">"</span><span class="content">Here is some help!</span><span class="delimiter">"</span></span>)</pre></td>
</tr></table></code></pre>

<p>Some data types, like LongTextArea, Reference and MasterRecord actually <em>require</em> the use of the 'with' clause, as documented above. Failure to include the 'with' clause will cause Salesforce to generate an error that provides a pretty good clue about what you need to add.<br><br>For example:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre><span class="class">create</span> <span class="type">table</span> wibble__c (description__c longTextArea(<span class="integer">12000</span>));</pre></td>
</tr></table></code></pre>
<p>Will generate an error:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
</pre></td>
  <td class="code"><pre>Error: wibble__c.description__c Must specify <span class="string"><span class="delimiter">'</span><span class="content">visibleLines</span><span class="delimiter">'</span></span> <span class="keyword">for</span>
a CustomField <span class="keyword">of</span> type LongTextArea <span class="keyword">on</span> line <span class="integer">1</span> col <span class="integer">372</span></pre></td>
</tr></table></code></pre>
<p>So add a "with" clause as appropriate, eg:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre><a href="#n1" name="n1">1</a>
<a href="#n2" name="n2">2</a>
</pre></td>
  <td class="code"><pre><span class="class">create</span> <span class="type">table</span> wibble__c(description__c longTextArea(<span class="integer">12000</span>)
with (visibleLines <span class="integer">3</span>))</pre></td>
</tr></table></code></pre>
<p>Formula fields are also handled via the "with" clause. For example: </p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre>my_formula__c string(<span class="integer">80</span>) with (formula <span class="string"><span class="delimiter">"</span><span class="content">name &amp; ' ' &amp; identity__r.Name</span><span class="delimiter">"</span></span>),</pre></td>
</tr></table></code></pre>

<p></p>
<h3>Known Issues</h3>
<h4>Unsupported Custom Object Properties</h4>
<p>There is currently no way to define the following properties of Custom Object.</p>
<ul>
<li>pluralLabel</li>
<li>enableFeeds</li>
<li>deploymentStatus</li>
<li>sharingModel</li>
</ul><h4>Silly Error Messages</h4>
<p>You may see silly error messages, because Salesforce thinks you are a web browser. Eg: if you try to use a picklist field as part of a formula you will get the following HTML code embedded in the error message:</p>
<p style="padding-left: 30px;">Picklist fields are only supported in certain functions. &lt;a href="javascript:openPopupFocusEscapePounds('/HelpAndTrainingDoor?loc=HOME&amp;qs=BLANK?loc=help&amp;target=tips_on_building_formulas.htm#picklists_and_msps&amp;section=Customizing', 'Help', 1024, 768, 'width=1024,height=768,resizable=yes,toolbar=yes,status=yes,scrollbars=yes,menubar=yes,directories=no,location=yes,dependant=no', false, false);"&gt;Tell me more&lt;/a&gt; on line 1 col 1458</p>
<h4>Inaccurate Line Numbers</h4>
<p>Lines and columns reported in error messages have no relationship to the CREATE TABLE script you wrote.</p>
<h4>Relationship Names can't be reused</h4>
<p>If you create a 'relationship' column with name given name, you won't be able to reuse the name, even if you drop the table or column. This is because Salesforce doesn't <em>really</em> drop the data until later, just in case you change your mind, so you can't reuse the relationship name until the column is completely deleted.</p>
<h2>ALTER TABLE</h2>
<p>You can add OR MODIFY a column with:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre><span class="class">ALTER</span> <span class="type">TABLE</span> <span class="class">ADD</span> &lt;columnName&gt; &lt;dataTypeDefinition&gt;</pre></td>
</tr></table></code></pre>
<p>and remove columns with:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre><span class="class">ALTER</span> <span class="type">TABLE</span> <span class="class">DROP</span> <span class="type">COLUMN</span> &lt;columnName&gt;</pre></td>
</tr></table></code></pre>

<p></p>
<h2>DROP TABLE</h2>
<p>You can remove a table from salesforce with:</p>
<pre><code class="language-sql"><table class="CodeRay"><tr>
<td class="line-numbers" title="double click to toggle" ondblclick="with (this.firstChild.style) { display = (display == '') ? 'none' : '' }"><pre>
</pre></td>
  <td class="code"><pre><span class="class">DROP</span> <span class="type">TABLE</span> [ <span class="keyword">IF</span> <span class="keyword">EXISTS</span> ]</pre></td>
</tr></table></code></pre>
</br>
      Follow <a href="http://twitter.com/stuntbyte">Stuntbyte</a> on Twitter
    </div>
    <div id="sidebar">
      <h2>Main</h2>
      <ul>
        <li><a href="/">Home</a></li>
        <li><a href="/download">Download</a></li>
        <li><a href="/contact">Contact</a></li>
        <li><a href="/community">Community</a></li>
      </ul>
      <h2>JDBC Driver</h2>
      <ul>
        <li><a href="/jdbc-driver">Introduction</a></li>
        <li><a href="/jdbc-driver/jdbc-configuration">Configuration</a></li>
        <li><a href="/jdbc-driver/jdbc-sql-syntax">SELECT, UPDATE etc</a></li>
        <li><a href="/jdbc-driver/jdbc-sql-ddl-syntax">CREATE TABLE etc</a></li>
        <li><a href="/jdbc-driver/grant-permissions">GRANT Permissions</a></li>
        <li><a href="/jdbc-driver/limitations">Limitations</a></li>
      </ul>
      <h2>Deployment Tool</h2>
      <ul>
        <li><a href="/deployment-tool">Introduction</a></li>
        <li><a href="/deployment-tool/deployment-usage">Usage</a></li>
      </ul>
      <h2>Text Editor/IDE</h2>
      <ul>
        <li><a href="/ide">Introduction</a></li>
        <li><a href="/ide/ide-sublime-text-2">Sublime Text 2</a></li>
        <li><a href="/ide/ide-vim">VIM</a></li>
        <li><a href="/ide/ide-command-line">Command Line</a></li>
      </ul>
    </div>
  </body>
   
</html>
