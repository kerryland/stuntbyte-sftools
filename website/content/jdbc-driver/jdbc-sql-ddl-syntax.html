--- 
title: JDBC SQL DDL Syntax
---
<p>Here are the SQL DDL commands we currently support:</p>
<h2>CREATE TABLE</h2>
<p>We provide a way to create a Salesforce "custom object" via the JDBC driver:</p>

<pre><code class="language-sql">
CREATE TABLE &lt;tableName&gt; ( &lt;columnName&gt; &lt;dataType&gt; [null | not null ]
[ WITH &lt;withClause&gt; ] ,... );
</code></pre>

<p>For example:</p>
<pre><code class="language-sql">
create table superhero__c (
name string(80),
birthdate__c date,
cape_colour__c picklist('red', 'blue' default, 'green') sorted,
identity__c masterrecord references(secretidentity__c) with (relationshipName 'secretId'),
group__c reference references(superherogroup__c) with (relationshipName 'secretGroup'),
my_formula__c string(80) with (formula "name &amp; ' ' &amp; identity__r.Name"),
secret__c encryptedstring(50) with (maskChar asterisk, maskType all),
commitment__c percent(3,0) with (inlineHelpText "Here is some help!"));
</code></pre>
<p></p>
<h3>Data Types</h3>
<p>We support the following datatypes via the CREATE and ALTER table commands.</p>
<h4>Numeric datatypes</h4>
<p>These data types support an optional "precision, scale" clause:</p>

<pre><code class="language-sql">
Currency[(&lt;precision&gt;, [&lt;scale&gt;])]
Percent[(&lt;precision&gt;, [&lt;scale&gt;])]
Double[(&lt;precision&gt;, [&lt;scale&gt;])]
Int[(&lt;precision&gt;)]
Decimal[(&lt;precision&gt;, [&lt;scale&gt;])]
</code></pre>

<p></p>
<h4>String datatypes</h4>
<p>These data types support an optional "length" clause:</p>
<pre><code class="language-sql">
String[(&lt;length&gt;)]
TextArea[(&lt;length&gt;)]
LongTextArea[(&lt;length&gt;)] with (visibleLines 3)
</code></pre>

<p></p>
<h4>Picklist and Multipicklist datatype</h4>
<p>[Multi]Picklist supports a list of valid values, a default indicator, and an optional "sorted" clause. Note that currently there is no support for "controlling field" in Picklist.</p>
<pre><code class="language-sql">
PickList(&lt;value&gt; [default] ... [sorted]
MultiPickList(&lt;value&gt; [default] ... [sorted]
</code></pre>

<p></p>
<h4>Foreign key relationships</h4>
<p>Foreign keys are defined via the "Reference" and "MasterRecord" data types:</p>
<pre><code class="language-sql">
Reference references (&lt;referencedTable&gt;) with (relationshipName &lt;refName&gt; [ , relationshipLabel '&lt;labelName&gt;'])

MasterRecord references (&lt;referencedTable&gt;) with (relationshipName &lt;refName&gt; [ , relationshipLabel '&lt;labelName&gt;'])
</code></pre>

<p></p>
<h4>AutoNumber</h4>
<p>The AutoNumber datatype, used with the built-in "Name" field, defaults to a format of {0000000000}, but this can be changed via the 'with' clause, eg:</p>
<pre><code class="language-sql">
AutoNumber with (displayFormat "{INV0000}")
</code></pre>

<p></p>
<h4>Other datatypes</h4>
<ul>
<li>EncryptedString -- for example:  encryptedstring(50) with (maskChar asterisk, maskType all),</li>
<li>Email</li>
<li>Phone</li>
<li>Url</li>
<li>base64 (synonym for LongTextArea)</li>
<li>Boolean</li>
<li>Byte</li>
<li>Date</li>
<li>DateTime</li>
<li>Summary</li>
</ul>
<h3>Use of 'with clause'</h3>
<p>The CREATE command maps standard SQL values such as the the column name, data type, and field size to an internal Salesforce structure. The 'with' clause is really just a back-door to support unusual features associated with a column definition. The values listed in the 'with' clause are passed through to Salesforce unmodified, and values are case sensitive.</p>
<p>The "with" values are documented by Salesforce <a href="http://www.salesforce.com/us/developer/docs/api_meta/Content/customfield.htm">here</a>. If you wanted, for example, to define "inline help text" for a field you would use:</p>
<pre><code class="language-sql">
...with (inlineHelpText "Here is some help!")
</code></pre>

<p>Some data types, like LongTextArea, Reference and MasterRecord actually <em>require</em> the use of the 'with' clause, as documented above. Failure to include the 'with' clause will cause Salesforce to generate an error that provides a pretty good clue about what you need to add.<br /><br />For example:</p>
<pre><code class="language-sql">
create table wibble__c (description__c longTextArea(12000));
</code></pre>
<p>Will generate an error:</p>
<pre><code class="language-sql">
Error: wibble__c.description__c Must specify 'visibleLines' for
a CustomField of type LongTextArea on line 1 col 372
</code></pre>
<p>So add a "with" clause as appropriate, eg:</p>
<pre><code class="language-sql">
create table wibble__c(description__c longTextArea(12000)
with (visibleLines 3))
</code></pre>
<p>Formula fields are also handled via the "with" clause. For example: </p>
<pre><code class="language-sql">
my_formula__c string(80) with (formula "name &amp; ' ' &amp; identity__r.Name"), 
</code></pre>

<p></p>
<h3>Known Issues</h3>
<p>There are a few things that might make you raise an eyebrow.</p>
<h4>Unsupported Custom Object Properties</h4>
<p>There is currently no way to define the following properties of Custom Object.</p>
<ul>
<li>pluralLabel</li>
<li>enableFeeds</li>
<li>deploymentStatus</li>
<li>sharingModel</li>
</ul>
<p>This simply hasn't been implemented. If there is a demand, it will be :-)</p>
<h4>Silly Error Messages</h4>
<p>You may see silly error messages, because Salesforce thinks you are a web browser. Eg: if you try to use a picklist field as part of a formula you will get the following HTML code embedded in the error message:</p>
<p style="padding-left: 30px;">Picklist fields are only supported in certain functions. &lt;a href="javascript:openPopupFocusEscapePounds('/HelpAndTrainingDoor?loc=HOME&amp;qs=BLANK?loc=help&amp;target=tips_on_building_formulas.htm#picklists_and_msps&amp;section=Customizing', 'Help', 1024, 768, 'width=1024,height=768,resizable=yes,toolbar=yes,status=yes,scrollbars=yes,menubar=yes,directories=no,location=yes,dependant=no', false, false);"&gt;Tell me more&lt;/a&gt; on line 1 col 1458</p>
<h4>Inaccurate Line Numbers</h4>
<p>Lines and columns reported in error messages have no relationship to the CREATE TABLE script you wrote.</p>
<h4>Relationship Names can't be reused</h4>
<p>If you create a 'relationship' column with name given name, you won't be able to reuse the name, even if you drop the table or column. This is because Salesforce doesn't <em>really</em> drop the data until later, just in case you change your mind, so you can't reuse the relationship name until the column is completely deleted.</p>
<h2>ALTER TABLE</h2>
<p>You can add OR MODIFY a column with:</p>
<pre><code class="language-sql">
ALTER TABLE ADD &lt;columnName&gt; &lt;dataTypeDefinition&gt;
</code></pre>
<p>and remove columns with:</p>
<pre><code class="language-sql">
ALTER TABLE DROP COLUMN &lt;columnName&gt;
</code></pre>

<p></p>
<h2>DROP TABLE</h2>
<p>You can remove a table from Salesforce with:</p>
<pre><code class="language-sql">
DROP TABLE [ IF EXISTS ]
</code></pre>

